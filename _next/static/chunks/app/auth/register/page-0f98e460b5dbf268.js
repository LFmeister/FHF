(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[454],{7216:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});var a=t(2898);let s=(0,a.Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]])},9670:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});var a=t(2898);let s=(0,a.Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},5589:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});var a=t(2898);let s=(0,a.Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},7972:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});var a=t(2898);let s=(0,a.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},6570:function(e,r,t){Promise.resolve().then(t.bind(t,6198))},6198:function(e,r,t){"use strict";t.r(r),t.d(r,{RegisterForm:function(){return RegisterForm}});var a=t(7437),s=t(2265),n=t(1865),i=t(8110),o=t(4033),l=t(1396),c=t.n(l),d=t(1295),u=t(7972),m=t(5589),x=t(7216),f=t(9670),p=t(6806),h=t(9310),g=t(1018),b=t(471),y=t(5270);function RegisterForm(){var e,r,t,l;let[v,w]=(0,s.useState)(!1),[j,N]=(0,s.useState)(!1),[Z,C]=(0,s.useState)(!1),[_,k]=(0,s.useState)(null),[I,E]=(0,s.useState)(!1),[R,O]=(0,s.useState)(10),S=(0,o.useRouter)(),{register:L,handleSubmit:U,formState:{errors:P}}=(0,n.cI)({resolver:(0,i.F)(y.gY)}),onSubmit=async e=>{C(!0),k(null);try{let{data:r,error:t}=await b.I.signUp(e.email,e.password,e.fullName);if(t){let e=t.message;e.includes("User already registered")||e.includes("already been registered")||e.includes("already registered")?e="Este correo electr\xf3nico ya est\xe1 registrado. Intenta iniciar sesi\xf3n.":e.includes("Password should be at least")?e="La contrase\xf1a debe tener al menos 6 caracteres.":e.includes("Invalid email")?e="El formato del correo electr\xf3nico no es v\xe1lido.":e.includes("Signup is disabled")?e="El registro est\xe1 temporalmente deshabilitado. Intenta m\xe1s tarde.":e.includes("Email rate limit exceeded")?e="Se han enviado demasiados correos. Espera unos minutos antes de intentar nuevamente.":e.includes("Invalid password")&&(e="La contrase\xf1a no cumple con los requisitos de seguridad."),k(e);return}E(!0);let a=10;O(a);let s=setInterval(()=>{a-=1,O(a),a<=0&&(clearInterval(s),S.push("/auth/login"))},1e3)}catch(e){k("Error inesperado. Por favor, intenta de nuevo.")}finally{C(!1)}};return I?(0,a.jsx)(g.Zb,{className:"w-full max-w-md mx-auto shadow-xl border-0",children:(0,a.jsx)(g.aY,{className:"pt-6",children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:(0,a.jsx)("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,a.jsx)("h2",{className:"text-xl font-semibold text-green-800",children:"\xa1Registro Exitoso!"}),(0,a.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center mb-3",children:[(0,a.jsx)(d.Z,{className:"w-5 h-5 text-blue-600 mr-2"}),(0,a.jsx)("p",{className:"text-sm font-medium text-blue-800",children:"Confirma tu correo electr\xf3nico"})]}),(0,a.jsxs)("p",{className:"text-sm text-blue-700 mb-3",children:["Te hemos enviado un enlace de confirmaci\xf3n a tu correo. ",(0,a.jsx)("strong",{children:"Debes hacer clic en \xe9l antes de poder iniciar sesi\xf3n."})]}),(0,a.jsx)("div",{className:"bg-blue-100 rounded-md p-2",children:(0,a.jsx)("p",{className:"text-xs text-blue-600",children:"\uD83D\uDCA1 Revisa tambi\xe9n tu carpeta de spam si no encuentras el correo."})})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(p.z,{onClick:()=>{S.push("/auth/login")},className:"w-full bg-primary-600 hover:bg-primary-700",children:"Ir al Login"}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:["Redirecci\xf3n autom\xe1tica en ",R," segundos"]})]})]})})}):(0,a.jsxs)(g.Zb,{className:"w-full max-w-md mx-auto",children:[(0,a.jsxs)(g.Ol,{className:"space-y-1",children:[(0,a.jsx)(g.ll,{className:"text-2xl text-center",children:"Crear Cuenta"}),(0,a.jsx)(g.SZ,{className:"text-center",children:"Completa los datos para crear tu cuenta"})]}),(0,a.jsx)(g.aY,{children:(0,a.jsxs)("form",{onSubmit:U(onSubmit),className:"space-y-4",children:[_&&(0,a.jsx)("div",{className:"p-4 text-sm bg-red-50 border border-red-200 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsx)("svg",{className:"w-5 h-5 text-red-400 mr-2 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-red-800 mb-1",children:"Error en el registro"}),(0,a.jsx)("p",{className:"text-red-700",children:_}),_.includes("ya est\xe1 registrado")&&(0,a.jsx)(c(),{href:"/auth/login",className:"inline-block mt-2 text-sm text-red-600 hover:text-red-800 underline",children:"\xbfYa tienes cuenta? Inicia sesi\xf3n aqu\xed"})]})]})}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{htmlFor:"fullName",className:"text-sm font-medium",children:"Nombre Completo"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(u.Z,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(h.I,{id:"fullName",type:"text",placeholder:"Tu nombre completo",className:"pl-10",error:null===(e=P.fullName)||void 0===e?void 0:e.message,...L("fullName")})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{htmlFor:"email",className:"text-sm font-medium",children:"Email"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(d.Z,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(h.I,{id:"email",type:"email",placeholder:"tu@email.com",className:"pl-10",error:null===(r=P.email)||void 0===r?void 0:r.message,...L("email")})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{htmlFor:"password",className:"text-sm font-medium",children:"Contrase\xf1a"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(m.Z,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(h.I,{id:"password",type:v?"text":"password",placeholder:"••••••••",className:"pl-10 pr-10",error:null===(t=P.password)||void 0===t?void 0:t.message,...L("password")}),(0,a.jsx)("button",{type:"button",onClick:()=>w(!v),className:"absolute right-3 top-3 h-4 w-4 text-muted-foreground hover:text-foreground",children:v?(0,a.jsx)(x.Z,{}):(0,a.jsx)(f.Z,{})})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{htmlFor:"confirmPassword",className:"text-sm font-medium",children:"Confirmar Contrase\xf1a"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(m.Z,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(h.I,{id:"confirmPassword",type:j?"text":"password",placeholder:"••••••••",className:"pl-10 pr-10",error:null===(l=P.confirmPassword)||void 0===l?void 0:l.message,...L("confirmPassword")}),(0,a.jsx)("button",{type:"button",onClick:()=>N(!j),className:"absolute right-3 top-3 h-4 w-4 text-muted-foreground hover:text-foreground",children:j?(0,a.jsx)(x.Z,{}):(0,a.jsx)(f.Z,{})})]})]}),(0,a.jsx)(p.z,{type:"submit",className:"w-full",loading:Z,disabled:Z,children:Z?"Creando cuenta...":"Crear Cuenta"}),(0,a.jsxs)("div",{className:"text-center text-sm",children:["\xbfYa tienes una cuenta?"," ",(0,a.jsx)(c(),{href:"/auth/login",className:"text-primary hover:underline",children:"Inicia sesi\xf3n"})]})]})})]})}},6806:function(e,r,t){"use strict";t.d(r,{z:function(){return n}});var a=t(7437),s=t(2265);let cn=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.filter(Boolean).join(" ")},n=(0,s.forwardRef)((e,r)=>{let{className:t,variant:s="primary",size:n="md",loading:i=!1,disabled:o,children:l,...c}=e;return(0,a.jsxs)("button",{className:cn("inline-flex items-center justify-center rounded-lg font-semibold transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 shadow-sm hover:shadow-md",{primary:"bg-primary-600 text-white hover:bg-primary-700 active:bg-primary-800",secondary:"bg-accent-100 text-primary-800 hover:bg-accent-200 active:bg-accent-300",outline:"border-2 border-primary-300 bg-white text-primary-700 hover:bg-primary-50 hover:border-primary-400 active:bg-primary-100",ghost:"text-primary-700 hover:bg-primary-50 active:bg-primary-100",danger:"bg-red-600 text-white hover:bg-red-700 active:bg-red-800"}[s],{sm:"h-9 px-4 text-sm",md:"h-11 px-6 py-2.5 text-base",lg:"h-12 px-8 text-lg"}[n],t),ref:r,disabled:o||i,...c,children:[i&&(0,a.jsxs)("svg",{className:"mr-2 h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),l]})});n.displayName="Button"},1018:function(e,r,t){"use strict";t.d(r,{Ol:function(){return o},SZ:function(){return c},Zb:function(){return i},aY:function(){return d},ll:function(){return l}});var a=t(7437),s=t(2265),n=t(7042);let i=(0,s.forwardRef)((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,n.W)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...s})});i.displayName="Card";let o=(0,s.forwardRef)((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,n.W)("flex flex-col space-y-1.5 p-6",t),...s})});o.displayName="CardHeader";let l=(0,s.forwardRef)((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("h3",{ref:r,className:(0,n.W)("text-2xl font-semibold leading-none tracking-tight",t),...s})});l.displayName="CardTitle";let c=(0,s.forwardRef)((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("p",{ref:r,className:(0,n.W)("text-sm text-muted-foreground",t),...s})});c.displayName="CardDescription";let d=(0,s.forwardRef)((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,n.W)("p-6 pt-0",t),...s})});d.displayName="CardContent";let u=(0,s.forwardRef)((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,n.W)("flex items-center p-6 pt-0",t),...s})});u.displayName="CardFooter"},9310:function(e,r,t){"use strict";t.d(r,{I:function(){return i}});var a=t(7437),s=t(2265),n=t(7042);let i=(0,s.forwardRef)((e,r)=>{let{className:t,type:s,error:i,...o}=e;return(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsx)("input",{type:s,className:(0,n.W)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",i&&"border-destructive focus-visible:ring-destructive",t),ref:r,...o}),i&&(0,a.jsx)("p",{className:"mt-1 text-sm text-destructive",children:i})]})});i.displayName="Input"},471:function(e,r,t){"use strict";t.d(r,{I:function(){return n}});var a=t(7823),s=t(2601);let n={getBaseUrl(){let e=(s.env.NEXT_PUBLIC_SITE_URL||"").replace(/\/$/,"");if(e)return e;{let e=window.location.origin.replace(/\/$/,"");return"".concat(e,"/FHF")}},async signUp(e,r,t){let s="".concat(this.getBaseUrl(),"/auth/callback?email=").concat(encodeURIComponent(e)),{data:n,error:i}=await a.O.auth.signUp({email:e,password:r,options:{data:{full_name:t},emailRedirectTo:s}});return{data:n,error:i}},async signIn(e,r){let{data:t,error:s}=await a.O.auth.signInWithPassword({email:e,password:r});return{data:t,error:s}},async signOut(){let{error:e}=await a.O.auth.signOut();return{error:e}},async resetPassword(e){let{data:r,error:t}=await a.O.auth.resetPasswordForEmail(e,{redirectTo:"".concat(this.getBaseUrl(),"/auth/reset-password")});return{data:r,error:t}},async updatePassword(e){let{data:r,error:t}=await a.O.auth.updateUser({password:e});return{data:r,error:t}},async updateFullName(e){let{data:r,error:t}=await a.O.auth.updateUser({data:{full_name:e}});return{data:r,error:t}},async updateEmail(e){let{data:r,error:t}=await a.O.auth.updateUser({email:e});return{data:r,error:t}},async getCurrentUser(){let{data:{user:e},error:r}=await a.O.auth.getUser();return{user:e,error:r}},async isEmailConfirmed(){let{data:{user:e}}=await a.O.auth.getUser();return(null==e?void 0:e.email_confirmed_at)!==null},async resendConfirmation(e){let r="".concat(this.getBaseUrl(),"/auth/callback?email=").concat(encodeURIComponent(e)),{data:t,error:s}=await a.O.auth.resend({type:"signup",email:e,options:{emailRedirectTo:r}});return{data:t,error:s}},async getSession(){let{data:{session:e},error:r}=await a.O.auth.getSession();return{session:e,error:r}},async setSessionFromHash(){let e=window.location.hash;if(!e||e.length<2)return{set:!1,error:null};let r=new URLSearchParams(e.substring(1)),t=r.get("error"),s=r.get("error_description");if(t)return{set:!1,error:{message:"".concat(t,": ").concat(s||"")}};let n=r.get("access_token"),i=r.get("refresh_token");if(!n||!i)return{set:!1,error:null};let{data:o,error:l}=await a.O.auth.setSession({access_token:n,refresh_token:i});if(!l){try{let e=window.location.pathname+window.location.search;window.history.replaceState({},document.title,e)}catch(e){}return{set:!0,session:null==o?void 0:o.session,error:null}}return{set:!1,error:l}},async exchangeCodeForSession(e){let{data:r,error:t}=await a.O.auth.exchangeCodeForSession(e);return{data:r,error:t}},onAuthStateChange:e=>a.O.auth.onAuthStateChange(e)}},7823:function(e,r,t){"use strict";t.d(r,{O:function(){return s}});var a=t(7440);let s=(0,a.eI)("https://skejleilyksauxtrhxac.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNrZWpsZWlseWtzYXV4dHJoeGFjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTcyNDE5NjIsImV4cCI6MjA3MjgxNzk2Mn0.YCF5aeZDZPQpt-2oqjl2qKEG8YoD3CDMvRJjlCmADEA")},5270:function(e,r,t){"use strict";t.d(r,{S4:function(){return i},UA:function(){return o},dm:function(){return s},fM:function(){return l},gY:function(){return n},mw:function(){return d},zV:function(){return c}});var a=t(2160);let s=a.Ry({email:a.Z_().email("Email inv\xe1lido"),password:a.Z_().min(6,"La contrase\xf1a debe tener al menos 6 caracteres")}),n=a.Ry({email:a.Z_().email("Email inv\xe1lido"),password:a.Z_().min(6,"La contrase\xf1a debe tener al menos 6 caracteres"),confirmPassword:a.Z_(),fullName:a.Z_().min(2,"El nombre debe tener al menos 2 caracteres").max(50,"El nombre es muy largo").regex(/^[a-zA-ZÀ-ÿ\u00f1\u00d1\s]+$/,"El nombre solo puede contener letras y espacios")}).refine(e=>e.password===e.confirmPassword,{message:"Las contrase\xf1as no coinciden",path:["confirmPassword"]}),i=a.Ry({email:a.Z_().email("Email inv\xe1lido")});a.Ry({password:a.Z_().min(6,"La contrase\xf1a debe tener al menos 6 caracteres"),confirmPassword:a.Z_()}).refine(e=>e.password===e.confirmPassword,{message:"Las contrase\xf1as no coinciden",path:["confirmPassword"]});let o=a.Ry({name:a.Z_().min(1,"El nombre es requerido").max(100,"El nombre es muy largo"),description:a.Z_().optional(),currency:a.Km(["COP","AUD"]).default("COP")});a.Ry({name:a.Z_().min(2,"El nombre del proyecto debe tener al menos 2 caracteres"),description:a.Z_().optional()}),a.Ry({amount:a.oQ.number().positive("El monto debe ser positivo"),description:a.Z_().optional(),date:a.Z_().min(1,"La fecha es requerida"),performed_by:a.Z_().min(1,"El usuario que realiz\xf3 la transacci\xf3n es requerido")});let l=a.Ry({description:a.Z_().optional(),amount:a.oQ.number().positive("El monto debe ser positivo"),category:a.Z_().min(1,"La categor\xeda es requerida"),income_date:a.Z_().min(1,"La fecha es requerida"),performed_by:a.Z_().min(1,"El usuario que realiz\xf3 la transacci\xf3n es requerido")}).refine(e=>"Otros"!==e.category||e.description&&e.description.trim().length>0,{message:'La descripci\xf3n es requerida cuando la categor\xeda es "Otros"',path:["description"]}),c=a.Ry({amount:a.oQ.number().positive("El monto debe ser positivo"),description:a.Z_().optional(),category:a.Z_().min(1,"La categor\xeda es requerida"),expense_date:a.Z_().min(1,"La fecha es requerida"),performed_by:a.Z_().min(1,"El usuario que realiz\xf3 la transacci\xf3n es requerido")}).refine(e=>(e.category,e.description&&e.description.trim().length>0),{message:"La descripci\xf3n es requerida",path:["description"]}),d=a.Ry({inviteCode:a.Z_().length(8,"El c\xf3digo de invitaci\xf3n debe tener 8 caracteres")})},4033:function(e,r,t){e.exports=t(94)}},function(e){e.O(0,[218,727,473,971,472,744],function(){return e(e.s=6570)}),_N_E=e.O()}]);